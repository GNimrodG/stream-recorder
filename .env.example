# NextAuth.js v4 Configuration
# Generate a secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Set the base URL for your application
# For production behind reverse proxy, use your public domain:
# NEXTAUTH_URL="https://your-public-domain.com"
# For local development:
NEXTAUTH_URL="http://localhost:3000"

# Internal URL (optional) - used when running behind a reverse proxy
# This is the internal URL that NextAuth will use for callbacks
# If not set, NEXTAUTH_URL will be used
# NEXTAUTH_URL_INTERNAL="http://localhost:3000"

# Set to "true" to disable authentication entirely (useful for development)
AUTH_DISABLED="false"

# Authentik OAuth2/OpenID Connect Provider
# Replace with your Authentik instance URL (without trailing slash)
# The issuer should be: https://your-authentik-domain/application/o/your-app-slug/
AUTH_AUTHENTIK_ISSUER="https://authentik.example.com/application/o/stream-recorder/"
AUTH_AUTHENTIK_CLIENT_ID="your-client-id"
AUTH_AUTHENTIK_CLIENT_SECRET="your-client-secret"

# IMPORTANT: For Docker deployments behind a reverse proxy:
# 1. Set NEXTAUTH_URL to your public domain (e.g., https://streamrec.example.com)
# 2. Make sure your reverse proxy forwards the following headers:
#    - X-Forwarded-Host
#    - X-Forwarded-Proto
#    - X-Forwarded-For
# 3. Set the redirect URI in Authentik to: https://your-domain.com/api/auth/callback/authentik
# 4. Ensure cookies are allowed (check SameSite and Secure settings)

